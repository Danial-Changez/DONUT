<?xml version="1.0" encoding="UTF-8"?>
<!-- BatteryView.xaml -->
<Grid
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
>
  <Grid.RowDefinitions>
    <!-- Header Row -->
    <RowDefinition Height="100" />
    <!-- Report Tabs Section -->
    <RowDefinition Height="*" />
  </Grid.RowDefinitions>
  <Grid Grid.Row="0">
    <!-- Centered search bar for host input -->
    <Border
      Background="{DynamicResource PanelBackground}"
      CornerRadius="20"
      Padding="8,0"
      Margin="0,0,0,0"
      VerticalAlignment="Top"
      HorizontalAlignment="Center"
      Height="40"
      Width="650"
    >
      <Grid>
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="40" />
          <ColumnDefinition Width="1.5*" />
          <ColumnDefinition Width="130" />
          <ColumnDefinition Width="100" />
        </Grid.ColumnDefinitions>
        <Path
          Data="{DynamicResource Battery}"
          Height="20"
          Width="20"
          Stretch="Uniform"
          Fill="{DynamicResource BodyTextTertiary}"
          VerticalAlignment="Center"
          Margin="4,0,8,0"
          Grid.Column="0"
        />
        <TextBox
          x:Name="BatterySearchBar"
          Style="{DynamicResource GoogleSearchBar}"
          Grid.Column="1"
          Margin="0"
          AcceptsReturn="True"
          TextWrapping="Wrap"
          HorizontalAlignment="Stretch"
          MinWidth="250"
          MaxWidth="500"
          VerticalScrollBarVisibility="Auto"
          VerticalContentAlignment="Center"
          FontWeight="SemiBold"
        />
        <Button
          x:Name="btnRunBatteryReport"
          Grid.Column="2"
          Content="Run Report"
          FontSize="12"
          FontFamily="Montserrat"
          Cursor="Hand"
          BorderThickness="0"
          Foreground="White"
          Height="30"
          MinWidth="120"
          Margin="8,0,0,0"
          VerticalAlignment="Center"
          HorizontalAlignment="Stretch"
        >
          <Button.Style>
            <Style TargetType="Button">
              <Setter Property="Background" Value="{DynamicResource AccentPurple}" />
              <Setter Property="Template">
                <Setter.Value>
                  <ControlTemplate TargetType="Button">
                    <Border Height="30" CornerRadius="15" Background="{TemplateBinding Background}">
                      <ContentPresenter VerticalAlignment="Center" HorizontalAlignment="Center" />
                    </Border>
                  </ControlTemplate>
                </Setter.Value>
              </Setter>
              <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                  <Setter Property="Background" Value="{DynamicResource AccentPurpleHover}" />
                </Trigger>
              </Style.Triggers>
            </Style>
          </Button.Style>
        </Button>
        <Button
          x:Name="btnClearBatteryTabs"
          Grid.Column="3"
          Content="Clear"
          FontSize="12"
          FontFamily="Montserrat"
          Cursor="Hand"
          BorderThickness="0"
          Foreground="White"
          Height="30"
          MinWidth="80"
          Margin="8,0,0,0"
          VerticalAlignment="Center"
          HorizontalAlignment="Stretch"
        >
          <Button.Style>
            <Style TargetType="Button">
              <Setter Property="Background" Value="{DynamicResource ButtonSecondary}" />
              <Setter Property="Template">
                <Setter.Value>
                  <ControlTemplate TargetType="Button">
                    <Border Height="30" CornerRadius="15" Background="{TemplateBinding Background}">
                      <ContentPresenter VerticalAlignment="Center" HorizontalAlignment="Center" />
                    </Border>
                  </ControlTemplate>
                </Setter.Value>
              </Setter>
              <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                  <Setter Property="Background" Value="{DynamicResource ButtonSecondaryHover}" />
                </Trigger>
              </Style.Triggers>
            </Style>
          </Button.Style>
        </Button>
      </Grid>
    </Border>
  </Grid>
  <Grid Grid.Row="1">
    <Border
      Background="{DynamicResource PanelBackground}"
      CornerRadius="6"
      Margin="10"
      HorizontalAlignment="Stretch"
      VerticalAlignment="Stretch"
    >
      <TabControl
        x:Name="BatteryReportTabs"
        Style="{DynamicResource ModernTabControl}"
        Background="Transparent"
        Margin="10"
      >
        <!-- Tabs will be dynamically added by BatteryPresenter -->
      </TabControl>
    </Border>
  </Grid>
</Grid>
